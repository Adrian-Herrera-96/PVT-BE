<?php

namespace Muserpol\Http\Controllers;

use Muserpol\Models\Affiliate;
use Muserpol\Models\AffiliateState;
use Muserpol\Models\Category;
use Muserpol\Models\City;
use Muserpol\Models\Degree;
use Muserpol\Models\PensionEntity;
use Muserpol\Models\Contribution\Contribution;
use Illuminate\Http\Request;
use Log;
use Yajra\Datatables\Datatables;
use Muserpol\Models\RetirementFund\RetirementFund;
use Muserpol\Models\QuotaAidMortuary\QuotaAidMortuary;
use Muserpol\Models\AffiliateRecord;
class AffiliateController extends Controller
{
    /**
     * Display a listing of the resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function index()
    {            
        
        return view('affiliates.index');
        $data = [
            '421215RRG',
'310925SPA',
'451218AOV',
'241127RAP',
'540817TAJ',
'471022ABD',
'470805RMA',
'991115MMD',
'051125QQA',
'200915PMS',
'130502CSA',
'611001CCR',
'410808POJ',
'460820VCH',
'320626RLL',
'401019PCH',
'560920HCC',
'380312VFM',
'340430RUF',
'471130CHC',
'210122PRV',
'270605PAR',
'130504VRA',
'000708CVD',
'200829AAJ',
'290117YCF',
'600310MQV',
'301204VVO',
'450405SMF',
'360901NPE',
'300522NMC',
'465122VCM',
'350212ARM',
'370902CCO',
'380806MYV',
'370421AYA',
'280822MRJ',
'411208CTC',
'391017ZBE',
'420316COV',
'311128MAA',
'360120QLS',
'381001MTR',
'330817PGC',
'480101GPI',
'290323ZCJ',
'470522AHE',
'470914EAL',
'330416CLB',
'120216FVH',
'450806QCM',
'120605CAE',
'300202PCR',
'511014RAE',
'471207QCA',
'181116QFA',
'530216TQJ',
'260202HPC',
'250415CZP',
'340920QLF',
'311123CFC',
'280807AMS',
'321014CVJ',
'030327MUJ',
'371208PSN',
'430113QCG',
'271225GLL',
'270927UZR',
'270728PPL',
'260514MAA',
'290607FZR',
'451119RBw',
'541027VDF',
'350804CCD',
'471127SPW',
'401122SCJ',
'690117RCJ',
'510710CRG',
'290418CCG',
'390423SVS',
'220921MCM',
'300608MFM',
'260426ZVR',
'590417CQR',
'440223CQA',
'375220CME',
'411021VDM',
'401102MOJ',
'280123QRR',
'460507AAP',
'190710BTD',
'340805FRW',
'541222CAJ',
'570317LLS',
'581208CEB',
'470721AVD',
'411130ACD',
'520224CQM',
'531122ATM',
'180508HDM',
'580820SGE',
'580222EEF',
'300215QRB',
'321204VAF',
'530329MVL',
'320102HQM',
'370402UCP',
'570721HVG',
'190827BMR',
'390101CPD',
'370906SCA',
'531203HEJ',
'290204CRM',
'261221CEE',
'190403AHV',
'300930GMR',
'260926SAA',
'470223VCR',
'430121RBO',
'201005SGP',
'530312AML',
'430916DLH',
'361101TGJ',
'370915CRM',
'261010VOL',
'320409EQJ',
'370515BCD',
'300118TND',
'300928VBW',
'330125BBH',
'380915MVA',
'490608YCS',
'521231CVS',
'431025LML',
'310224BVM',
'360920PCR',
'331123ORA',
'290823SIF',
'560815MLA',
'160316CRG',
'340306CQM',
'620919CVG',
'110719TBE',
'400713LCA',
'250427BCD',
'150624ADJ',
'490201CMA',
'260606VLS',
'270927DTA',
'380520TRB',
'270807ARA',
'360217ANI',
'380307TAA',
'311123DRJ',
'261110GMA',
'411207CTJ',
'560625LAG',
'290624VMH',
'300319FMR',
'381004CHR',
'521130RCJ',
'330725FUV',
'060920TGE',
'550703AME',
'300731FOE',
'510830CQF',
'241116VVW',
'320907RCR',
'291226ICP',
'300910GBJ',
'460210CPG',
'160215VRV',
'400625BVG',
'440402DMJ',
'481225MCV',
'270708MBF',
'220209PCA',
'300514OGJ',
'140716BAL',
'290411FQD',
'350625RBL',
'200220RMM',
'361115CMD',
'090627GSZ',
'320501POF',
'320712VCJ',
'270123QCD',
'350714LYV',
'421004BOR',
'320729GMF',
'390802GAA',
'270217CSV',
'391101OTA',
'280221POE',
'251112MPF',
'330715RVC',
'260827PDA',
'230306AGH',
'221228DMG',
'350513PMP',
'221005CAZ',
'400829BHJ',
'400101BMC',
'600301SMJ',
'300807RLA',
'250109UVL',
'290102MLM',
'320313MIJ',
'460221MSH',
'281018GML',
'280401ATM',
'381024PAM',
'340319GMC',
'220825LZL',
'330621MDE',
'341228FRI',
'360623RPJ',
'420809CZM',
'440308DSJ',
'600228DCA',
'320930BGJ',
'371210UCZ',
'311205TEJ',
'560308MLJ',
'440905EMJ',
'301024VAR',
'421119NPC',
'300410CML',
'450219VPC',
'250405NAV',
'280428QCN',
'991113NLF',
'371014VMA',
'280915GQL',
'250327MAR',
'110910RGJ',
'140728HCF',
'200215VLR',
'511028AAM',
'400622QTE',
'410126CAE',
'501102VMF',
'190919CHH',
'320707YSA',
'330922IGA',
'311206MAZ',
'240510CLA',
'260307QCT',
'311130CHA',
'350702DRF',
'340316RBA',
'450410CCE',
'230903CAJ',
'431211OMV',
'300216MPS',
'580310QDV',
'560902CME',
'230816GVR',
'261025RPR',
'290824GGE',
'640714HPC',
'560611CPB',
'300715MMF',
'330212CCM',
'450916JMC',
'280213RGJ',
'320902AHE',
'320629CAP',
'330115IIE',
'440106VGL',
'260106FSM',
'230208OSE',
'401010QHL',
'221206AVH',
'440730MSO',
'301209ZUW',
'370202ACC',
'120704SPH',
'341024CPN',
'311025MCC',
'321212RMB',
'541205KOJ',
'430106PVR',
'350117DAA',
'310102FCN',
'390128QCF',
'320607QLF',
'270427MBH',
'430228VMM',
'240404AAI',
'410904TQM',
'320416ACT',
'360819RVL',
'230127QSJ',
'320210SFG',
'220723MHJ',
'311227ABM',
'331128NPA',
'270103VTJ',
'170209RBE',
'411119MCP',
'190319PGJ',
'140712SBJ',
'200121FMC',
'450805ATJ',
'350806RGA',
'320212RFA',
'551017CCR',
'330104VVG',
'470305CYE',
'321202RZA',
'301101MCJ',
'290215BLA',
'321231BMM',
'270626QCV',
'431026OCJ',
'420914RML',
'361225MAM',
'321107QMF',
'240726TCV',
'381128BAJ',
'331211CED',
'371103ART',
'201125APE',
'340809FMP',
'240525CSG',
'320217VEH',
'291228EAJ',
'300308SAJ',
'361130DOJ',
'280624TSJ',
'421020AMJ',
'250609ESR',
'321218MLS',
'410415FRW',
'210206QOJ',
'410518MVF',
'180613MMA',
'360716CCJ',
'300613VHA',
'421225MGA',
'271218ACL',
'241212MCG',
'190518VCS',
'400608PHS',
'360219RMG',
'200210ICG',
'370614PLM',
'270320ACM',
'340729AMJ',
'270818MMJ',
'240715GJE',
'301123QCM',
'441212MNL',
'440204DEJ',
'251223CAJ',
'211228MZJ',
'190307MCT',
'190929CCM',
'351225CTM',
'530421SLJ',
'270601SCF',
'290627VSA',
'380403ARE',
'290905TVJ',
'330805AOO',
'050822RCA',
'290315MCP',
'350414AQA',
'200320RCR',
'311004PTJ',
'400922BAC',
'380511RVF',
'581001AMA',
'270920MVA',
'350325LCH',
'390430VTI',
'401108MJB',
'290808CAJ',
'341118SBJ',
'431129RRD',
'290823SMF',
'570507TRL',
'240616RGP',
'520708ZCP',
'560721SDJ',
'110501MCR',
'580124DOA',
'230622CAG',
'321025SMA',
'301122LSC',
'291207AOT',
'410103LET',
'421103CHF',
'540731LCI',
'210127GVW',
'531129ZCS',
'260427LMO',
'290816HWR',
'290410CSD',
'340119GVM',
'440324PAA',
'491102SFJ',
'450219QCF',
'370617NBM',
'620101MTE',
'350624QCJ',
'400905COJ',
'330910CLE',
'426110GMN',
'400424FAG',
'370415AMS',
'310527CAR',
'480312MCG',
'511002CCJ',
'360603MQC',
'261029CCC',
'481028AVS',
'450217MCN',
'360318CSR',
'350607GMR',
'400408BUA',
'281230VTL',
'360507MCJ',
'360329VVF',
'530603CTA',
'291122BPJ',
'400829CCR',
'350813NCR',
'110330ECA',
'441230STH',
'550222PFP',
'170722ZMT',
'300131CQA',
'311101LCS',
'470404PSJ',
'671029MME',
'360212MGD',
'450606SYC',
'350214EBV',
'320513MCT',
'261103TQR',
'570510CRC',
'201030CCQ',
'330310DMV',
'571018FCS',
'430326FRR',
'180325AMA',
'280121CAE',
'290517RLM',
'430120CHF',
'250530AEF',
'520806CTG',
'340909AQF',
'430701CSF',
'380816PGF',
'330526LRH',
'710703MCA',
'390427QFD',
'420619ABG',
'270505VYA',
'380215MCE',
'360629GSB',
'230910QCF',
'270707VBF',
'440906YNP',
'260625CRR',
'570815HCA',
'381025DSD',
'400518HMG',
'320323MTJ',
'311204SZC',
'200609UMT',
'300402SAF',
'390523NGF',
'390215ZCG',
'310404ADE',
'340531FRE',
'350403RLR',
'240701VPM',
'270629GDF',
'281101BSB',
'260825LAL',
'300730DMZ',
'300629ZAE',
'441203MHC',
'390908CBN',
'290906MZE',
'300224OLM',
'341020FFA',
'221208MPV',
'370307VAM',
'270912BCL',
'370915MJJ',
'361023COD',
'590510CMC',
'680511QMF',
'661003SMJ',
'421113GGE',
'280803EBF',
'450114VQF',
'370822ACA',
'501214AAI',
'291008AFE',
'270404QHV',
'590624CCJ',
'280726AAA',
'320319MAJ',
'461223RRV',
'330716LEV',
'320129BAJ',
'225415SMM',
'260411MCL',
'270219MMS',
'471221UFR',
'620929SNM',
'310912AGS',
'390924RMJ',
'410918LST',
'220620TTD',
'470206NGA',
'321215ACE',
'380516ACS',
'330302RCS',
'280308RRJ',
'220703PAA',
'281130MSR',
'391231TMS',
'390209RBA',
'260924BTF',
'260823TFJ',
'431003MGG',
'351203IML',
'411025ATJ',
'260417RSH',
'270802LLA',
'370607REB',
'150629RZP',
'320909RBO',
'340319VPJ',
'411220VMN',
'310211CMH',
'250315QRB',
'205816RHS',
'390101CCC',
'210406SBC',
'300913TLE',
'370125OAM',
'281104AMJ',
'431120AAF',
'311029HQS',
'300530MLJ',
'521024MTF',
'310806PCT',
'240503MPJ',
'290624LPP',
'310707GPI',
'270328JJM',
'351130QMF',
'260531HTA',
'261219VVN',
'270430MMM',
'440127MFJ',
'310530CMF',
'430131ZPJ',
'270110LSG',
'330708IMI',
'310105BCG',
'310331QAM',
'340702GLF',
'271225CQS',
'241206PPN',
'271212ECI',
'350201SZW',
'410605LSJ',
'310725VLH',
'281228PAM',
'220820TFJ',
'440807GRA',
'250101HVM',
'360706CZD',
'300906RFA',
'230225CIA',
'140209SSJ',
'250830SCP',
'641013TGD',
'480424EAT',
'460731CNI',
'251108RPG',
'320401SCJ',
'121013SRE',
'520221RVF',
'390131NNA',
'190426PVC',
'210612VSA',
'361124VMH',
'280731VMI',
'280907MVH',
'280510RRM',
'430119PRG',
'351219QFD',
'200215AAA',
'380822VRJ',
'260810CJA',
'421202CQE',
'370217GLI',
'331225CFA',
'460414CCT',
'271113CHF',
'331028TGM',
'490312GQB',
'340312RCC',
'321024FRN',
'381226AAJ',
'240828PEM',
'390425SMR',
'331108CMS',
'441224EAJ',
'290308YMF',
'290701TCE',
'250905PIF',
'361023TVS',
'310516PFJ',
'280720MMS',
'300211CCI',
'410815FHJ',
'440410CLA',
'260228SVD',
'301023QMP',
'600225CCS',
'371124MCC',
'690321CCF',
'310506MZJ',
'350202MCM',
'160516NCW',
'531020MQJ',
'340228ACE',
'321205MCP',
'280731RAJ',
'310203CMJ',
'381118TQV',
'421010ETA',
'421121MTD',
'190604MLW',
'250603SSI',
'521207HRP',
'440929TAJ',
'610101MVS',
'310710AGH',
'561208GVM',
'450211FGD',
'610504LCA',
'321222MSH',
'310930LTA',
'420417MLR',
'451221PSW',
'311127QTJ',
'290720VFF',
'310527PAF',
'191121GCF',
'440312SCJ',
'260228AAM',
'540422CFA',
'290819QSL',
'230423COJ',
'380629QMP',
'371024MCQ',
'340727APA',
'350116ZCJ',
'250214RCJ',
'350517CTJ',
'411017TGH',
'380203GCA',
'270726BIG',
'231120PAL',
'300212LAL',
'250529VPF',
'280711PRE',
'280607CAR',
'561024ARR',
'200508CAA',
'310823MBF',
'270202GSC',
'470719RCH',
'260413FFJ',
'380312MEG',
'530526MAM',
'381030RCS',
'331029TQN',
'500424RRE',
'390319UOS',
'300101VRJ',
'370812AYM',
'310530TVF',
'361204PGF',
'330805GSE',
'390902VTW',
'261120CCF',
'270219ROH',
'331129QYS',
'300823MSL',
'291216PVW',
'310808PQR',
'050608RSS',
'420717HCM',
'190127SGR',
'371121GCE',
'360406RGR',
'280515HMA',
'540218TMZ',
'550930SCA',
'461208QCD',
'300825GHL',
'321109LPF',
'640621AME',
'291124MIW',
'360620PPJ',
'390110CJA',
'590725MTC',
'500626YGD',
'570112GMV',
'500613CYA',
'280508FFF',
'300827ATJ',
'410628RDL',
'280115RAJ',
'430122ACV',
'321114VVL',
'430607FFF',
'580122PGV',
'271227LLA',
'390713ALW',
'271010PHF',
'551016VVM',
'350501FAF',
'490325CVJ',
'271010GHC',
'321111ATM',
'651216CTC',
'400406YQC',
'290718CCB',
'251025LJM',
'651215LVF',
'251107HYE',
'341106MCG',
'320918ICA',
'420514BOM',
'330904GGM',
'441118MMO',
'300804QPB',
'360914TAV',
'350218GCM',
'531025CTC',
'461104HCC',
'290705VVS',
'260626SQN',
'440515ENM',
'330810PEM',
'321211FMH',
'290629TOM',
'250120JTA',
'250115AMA',
'470804RAH',
'211130TZD',
'301215AME',
'641205CVH',
'171104VBC',
'321027HQF',
'371021CHC',
'201015MPH',
'521021MYF',
'190402ICG',
'260112SMV',
'390902BVE',
'370429QLS',
'231016STM',
'360124CCC',
'390616AQS',
'441004BTF',
'420410CPH',
'331003ANF',
'230922LBH',
'301219RNM',
'610403MKR',
'320602ONR',
'560603JAR',
'380113TAB',
'181115THL',
'401031OCN',
'300420PSA',
'320503CFA',
'420624CCJ',
'380430TLP',
'220123BVH',
'251025RCR',
'371109CET',
'300604IMS',
'321017CPH',
'410728CPN',
'320303LCA',
'130325BEC',
'430722FHT',
'360301CPA',
'210202MAA',
'271211DBG',
'380701CAA',
'281215PFE',
'400309SCT',
'421129MCF',
'330823CLM',
'391125BMJ',
'330203EAP',
'331114ZCC',
'400119ACO',
'191002BMS',
'260829LRF',
'330930RCA',
'310508LEV',
'320624COF',
'220403BTB',
'160821BSF',
'250513LOP',
'160417EMT',
'560213CUM',
'561122QMM',
'480705VCM',
'520120RIF',
'021117THG',
'281208CVC',
'381215FTW',
'541111GCF',
'490607TPH',
'420723LNS',
'260425PMJ',
'430901CBF',
'310718SSZ',
'270210ANE',
'290809RGR',
'350415CPA',
'440711MYP',
'370222VAM',
'290722CJJ',
'411112RFC',
'300610CRR',
'400713LMM',
'361213YYL',
'241217CCE',
'280825IRL',
'251201GTF',
'290318LSJ',
'410120MPR',
'270812FEH',
'270716MLA',
'481211FLD',
'511116YCR',
'290304ACH',
'240702MVI',
'301231CQD',
'300720MCE',
'280331MTB',
'270725AAS',
'460301LTO',
'340528CBV',
'420128SGC',
'261225AFH',
'361108ATT',
'290910MRN',
'320710VCF',
'481001DOM',
'461019AZM',
'320825ACL',
'250402VEF',
'290621CFW',
'240928SEG',
'250116OCA',
'340521TCB',
'260406VRC',
'410405BMZ',
'401030CCC',
'220504BME',
'440612CLJ',
'321020GAA',
'341210QHD',
'420727CCJ',
'130116AQP',
'320218CBJ',
'171102GME',
'230124QCJ',
'640603QPI',
'451003LPD',
'310707BPZ',
'310705RPE',
'390727OPC',
'320807CFM',
'410520QBR',
'580825MRL',
'621006MRJ',
'420823TVB',
'280101CAM',
'300613TDA',
'270830ACJ',
'301209PVV',
'410919NPN',
'701231MGM',
'360101CQM',
'511026MQE',
'410716CGM',
'380107CCL',
'311118GHM',
'380609YNR',
'381015RSJ',
'241228TCJ',
'430430TRE',
'400614CHE',
'310727MMN',
'191221ACT',
'360723VDA',
'440111CMM',
'660815JCA',
'210310GCM',
'330313AFL',
'230705DMJ',
'231023CAC',
'320106MFR',
'280423VHJ',
'310319PEJ',
'130313CGJ',
'330509SPJ',
'400324CSA',
'421008VPA',
'371008HMB',
'420718MCR',
'401211EBM',
'420726MCJ',
'510825CHF',
'350211RMS',
'340301LVA',
'191014CZE',
'390603VFJ',
'400210ATG',
'290213ABJ',
'261229RHM',
'470922QCM',
'261218BEG',
'420214CQV',
'301227SGJ',
'301115CMA',
'360610EAJ',
'131101PME',
'201206CQF',
'240724SHN',
'420812ALF',
'100510DPA',
'291011RSN',
'161130MPA',
'680427PCA',
'200318RFB',
'340909QHG',
'381103URJ',
'450926BMM',
'301222PTE',
'601121CFN',
'331109SPR',
'350730TTM',
'080228ACR',
'301114CMC',
'410306MCV',
'231027GRF',
'620616ZMO',
'571215CME',
'350801LCG',
'250601FLA',
'470510CMA',
'421010MMR',
'390511NMF',
'261211IMA',
'610211HCL',
'490913IBJ',
'100908GGJ',
'050526CPA',
'440207CBW',
'390316LAA',
'580730ATC',
'410701SCS',
'620327VCW',
'501122GBL',
'560911SAB',
'131215RLH',
'510923CML',
'350313ACD',
'340611DLC',
'410210SBW',
'140705CRV',
'280225GRG',
'160509RPF',
'680613QBM',
'460716MPC',
'230422CCS',
'460319EQP',
'340820RCA',
'280907BSR',
'401017CCF',
'281028GMS',
'390430JCC',
'370715SAC',
'311228CGE',
'320715AMV',
'301108TCC',
'350725QTS',
'360214LGJ',
'280531HLF',
'380513MAR',
'360716VSA',
'300611CCB',
'300725VPS',
'300403TRR',
'240916GPM',
'280203IPJ',
'321221TCT',
'330124CCA',
'410713PLA',
'481130TCG',
'300424AMF',
'320515CQI',
'420528SRG',
'341020QCL',
'260108VAA',
'150210SCR',
'051209BAJ',
'441112TGW',
'080410GIL',
'510126SGD',
'281119NMA',
'541206MUA',
'301225PAD',
'281218CRJ',
'260719CGS',
'260726SVN',
'390624MCP',
'361027MBF',
'581209MZJ',
'300127GMJ',
'520112CJV',
'260426CVM',
'410730RCA',
'330607CVJ',
'291124ORA',
'220423UMJ',
'341224CSM',
'330707CFF',
'330810PVL',
'300912CBM',
'310508BAE',
'340111QRE',
'341110ISE',
'340609CAM',
'380329VTC',
'260908SCM',
'350212MBR',
'210410MPC',
'380729IGJ',
'550725ZMH',
'431203JSJ',
'320122PRJ',
'231203ACF',
'330606GLR',
'430415DMM',
'390503HAN',
'300807CLA',
'400924BRG',
'330913ZGA',
'400312CGJ',
'430704MAF',
'420330RMF',
'461102VSI',
'431124CAJ',
'310505FTP',
'240904ROM',
'470313GFS',
'370212SSB',
'311008VHC',
'410522RAJ',
'360102APD',
'410605JVD',
'450315CVH',
'370108MFT',
'600506MSJ',
'631101LRW',
'610424MHF',
'271201VVM',
'310112GAV',
'400314TVM',
'530916SFD',
'520507SCM',
'241024RAR',
'330201MPI',
'301215SMM',
'350425KAW',
'400614GCB',
'370202SOS',
'320724VIJ',
'440929RMM',
'310401CMM',
'430219AGM',
'495511TOM',
'421222SLD',
'381130OCA',
'380319JCJ',
'421025EPR',
'320719ACJ',
'321015BMI',
'360918GER',
'381011CVN',
'395725QCO',
'430614CRM',
'441103RRC',
'410207RVR',
'280430CAR',
'310508CAM',
'310924MJG',
'300407CTA',
'280203VER',
'440915LAR',
'400612PTJ',
'420527QCM',
'300422AFR',
'360522CPS',
'380201BBJ',
'331021TCJ',
'290621PZL',
'440401RQF',
'505105TGC',
'320625CPC',
'440527RJJ',
'291201CME',
'300830BPA',
'320615CFC',
'270909SCG',
'610809CCR',
'350823HHL',
'560417MMR',
'430801UYP',
'230123PSE',
'430819CCL',
'630712HPG',
'611126MLJ',
'340104MSF',
'311130CGA',
'320517RRF',
'380611TSP',
'460515GGA',
'271112VAM',
'321128GVR',
'290109BSG',
'171222TGC',
'420517CBB',
'420830ECR',
'360505BCN',
'400830BCF',
'300127CQJ',
'441206AMN',
'340923RGJ',
'401109GCD',
'380716CMC',
'450623QMJ',
'421125SZJ',
'300730ZAF',
'400420VSJ',
'330310SMV',
'385619VCC',
'410124VCO',
'380528HMF',
'300816BVJ',
'290315FAR',
'440319MAJ',
'320521AGS',
'310408VPD',
'400211OOP',
'281117MQA',
'190315OBF',
'280101CAJ',
'400912PAS',
'430710CMG',
'326010TMM',
'361113CAS',
'410418CSH',
'380215VUL',
'366228RPR',
'341202MCJ',
'400207VER',
'390718ARM',
'350302TLM',
'390605RLG',
'280605SPR',
'430621FRJ',
'320716MSC',
'340413NMV',
'400208PEE',
'290924FGG',
'340908LFJ',
'410705ABR',
'390402LMF',
'420913SMR',
'300714PCG',
'340104AMJ',
'270410MSD',
'330826FSR',
'440624MRM',
'410727QTN',
'180106MAL',
'450128DVJ',
'370701HPP',
'300124CMM',
'425726GMF',
'450924ANL',
'320725ROM',
'321215QCH',
'476212GRN',
'475502SMM',
'350624MLJ',
'445905ATE',
'190512SFA',
'430131LCP',
'451215CTP',
'420803MLG',
'370808MAR',
'350406LFJ',
'441231ITS',
'361225VFM',
'461130RAA',
'430826FMS',
'350124QET',
'190304MPC',
'310214HLN',
'360128SSI',
'250530LOJ',
'451124LTJ',
'541229VAV',
'561126MSM',
'340803MMS',
'331219ACM',
'360427TRA',
'470707ACE',
'300701YOL',
'380328MCI',
'370217GCR',
'470629CCP',
'290127FFJ',
'430423VAJ',
'181215CHC',
'450712DGJ',
'430329GMC',
'390130RRG',
'301014MMF',
'301201RCN',
'290331OSR',
'410806PPE',
'591119CLF',
'270601AMM',
'320601MRR',
'300628GVL',
'240706CRR',
'310619RPJ',
'320326CPS',
'430811RCR',
'361118CGV',
'401002QTC',
'401014HLC',
'451216CCV',
'370507CTM',
'290301JBA',
'360311AAJ',
'570604VCC',
'390117QFI',
'270108ABL',
'270220MPF',
'340111UQM',
'200716AGC',
'650223QRP',
'260503RAJ',
'630203VVJ',
'630524CMF',
'240925GMM',
'390617MQI',
'311125RVN',
'411124QPL',
'300901TMJ',
'360715ZME',
'340921TRR',
'440917TAE',
'360810CLR',
'431102CMN',
'301208ACM',
'300520CCG',
'440824CZP',
'431203PPJ',
'440518YGV',
'381028USG',
'440320MVE',
'401116MQV',
'401124QAM',
'440712AGJ',
'401218YRO',
'360103ALR',
'380303DVH',
'420813TCC',
'515605SAM',
'410414TCJ',
'330706AMI',
'420927LNC',
'420720RMR',
'341010RGC',
'440829LSJ',
'391004RVA',
'475317LAN',
'421109MQT',
'431205JCM',
'410215EQF',
'420524SBJ',
'360606CLF',
'240324RLS',
'360501GBJ',
'330831MVR',
'480131PCL',
'291116ZAF',
'291121MCF',
'250915LBH',
'200420SVH',
'290408DSA',
'291005CQF',
'480914LVA',
'380521PFC',
'301214MSM',
'150421MCW',
'360519GNP',
'250419CAJ',
'270210BRG',
'290402APM',
'400818ROA',
'440520NEE',
'410725BGE',
'260818ZCJ',
'360405MQC',
'410204LAA',
'365617ALN',
'371224EGD',
'280520LBB',
'390815PPJ',
'410526VVF',
'380810ARE',
'420430RPH',
'440203VDJ',
'430303GGL',
'385831SMB',
'420208BLF',
'410419TDG',
'270503QHM',
'400525RCN',
'441218FEV',
'380927ALM',
'421211YPD',
'311031RGG',
'410303CLL',
'421215CMF',
'496116MRT',
'401126CFP',
'401224CCM',
'390604ACF',
'420219ELJ',
'505516MVS',
'420622SRR',
'401102QCJ',
'340716CRC',
'390528RIE',
'350416RAJ',
'440407MCR',
'330214RPA',
'431011FAF',
'330702PCM',
'316213MBL',
'321120CPT',
'361109JPT',
'470118YNP',
'400311APH',
'301225CCF',
'400328NHI',
'260805ZVO',
'441123PTC',
'430302CAC',
'260319FCJ',
'505217LBM',
'410517LMP',
'421025UCC',
'461208PMZ',
'341018SGR',
'475206CRM',
'350413PNG',
'430828RHJ',
'400802CLE',
'361016PPA',
'351110CSG',
'321019VRP',
'441003BCC',
'415403COB',
'390129RLF',
'460224MHM',
'405509MOD',
'270219PPF',
'420303CAE',
'391023ECM',
'441125RAP',
'360217GLJ',
'341211QNE',
'400715HCT',
'350611CRR',
'420816JOJ',
'431231RCP',
'420212LNA',
'280810AGD',
'401102MST',
'340624NAM',
'436107VGN',
'301104TCC',
'411014RTE',
'451111SCA',
'300303SCH',
'380219AMW',
'340723QCA',
'361120SRS',
'411114SJA',
'391120PPD',
'420828PTA',
'410719ZPJ',
'290214GGC',
'400214TAV',
'370403GCB',
'390308VCB',
'421016CCL',
'240929MBM',
'410130GSW',
'330101BCF',
'430310VVM',
'310927GAE',
'466225PCJ',
'431020ARA',
'351208MCJ',
'410504SGE',
'415917PSH',
'360822PBT',
'441118CMR',
'360409AAM',
'301009APJ',
'391009BSE',
'430706PSF',
'520123MLR',
'261030ACC',
'350724CAM',
'390311LTG',
'400502SGC',
'260904PZA',
'430419VQH',
'380312MVV',
'431213AQA',
'450620VES',
'421007ACR',
'420227PUR',
'460426CSC',
'381028MAA',
'351129QCS',
'371125CLH',
'410801OOP',
'411213GRL',
'330311HOE',
'400325HVM',
'440612AZR',
'380511RLE',
'370403VEL',
'460721AMT',
'400826LAL',
'321016MSC',
'270714ZAV',
'351027RTF',
'456114RCN',
'210412CRJ',
'360401RNM',
'381115LQB',
'310929CGM',
'350828LHV',
'220321FMP',
'370403HAF',
'430911SHJ',
'390206MRD',
'410716BDA',
'420112MAV',
'360118CAP',
'361111JCM',
'395917VOE',
'440802FRA',
'410621MGL',
'341214MQV',
'280312GRH',
'420501SBN',
'431012CHS',
'391118AHM',
'410910HLN',
'360228VQA',
'391125ARJ',
'370830CCA',
'330102MAP',
'356226RIL',
'410126PSE',
'280609UZP',
'301012QMD',
'411029CGN',
'400806RCR',
'390721QVD',
'440218BDL',
'380609UGR',
'430618PSG',
'340303MPJ',
'261015MCR',
'440205PVN',
'340701VCL',
'460307MTE',
'360313BNE',
'381108SPR',
'400201AMA',
'331110JSA',
'360720SCA',
'390408STM',
'431226ATE',
'460717CCA',
'420717QMM',
'220311SMJ',
'300719TVV',
'440211APS',
'451114HLF',
'401204MTM',
'431021FVJ',
'281012AJP',
'441119POS',
'411204MRF',
'330925PGG',
'400525LMF',
'321007MCJ',
'380414MBL',
'250715TCF',
'440117TAE',
'310131HFV',
'441120QHF',
'430828QMA',
'411012CGW',
'391018CTL',
'290115HMP',
'486202SVZ',
'320714CAE',
'486120PNE',
'261110BRD',
'355417RVR',
'250716JHC',
'420729CMP',
'320419CMG',
'270614QRG',
'435128BCS',
'301104JBC',
'280219LCZ',
'401112CAT',
'341231GRS',
'400427ATT',
'441230TTS',
'430918VGJ',
'420118QCP',
'440304CQE',
'430103CCM',
'411215CLA',
'440314CMJ',
'280402VCE',
'380802GAG',
'420329HGC',
'430726PBO',
'320722OLF',
'370606VEA',
'410911CMF',
'350715VLE',
'370517UPJ',
'291229MHR',
'426213HVL',
'410318RFA',
'441102TSV',
'361215ACL',
'450507BFI',
'455715MJN',
'380731OMI',
'240307CSA',
'410325EBC',
'320209QAA',
'321211TPJ',
'440703LPE',
'331231YCS',
'421120CAJ',
'311213MPL',
'451019JBA',
'371207VSC',
'370104LSH',
'380327BRA',
'440423SRJ',
'460405ACZ',
'375109CUG',
'310806CLG',
'440329CCR',
'360812ELR',
'421014MSJ',
'430123TDJ',
'370623DPJ',
'340605AMB',
'340114TCH',
'411014ZSF',
'290228LVM',
'381031BMJ',
'320617CME',
'300715CVE',
'480906VRV',
'291013ZTE',
'431129ATS',
'310212AQF',
'431120BOJ',
'431023QAP',
'400905SLH',
'401126RPF',
'360713VAJ',
'380322FPJ',
'380503FSC',
'300403MMO',
'200920FLW',
'430327MCR',
'470202FMR',
'380818CHW',
'421028VMG',
'340319NAJ',
'380625NAA',
'410127HLV',
'335404VAE',
'410622CBC',
'480904CCD',
'290129CRF',
'410113CCL',
'370610RCM',
'370324BDJ',
'390405CSV',
'280805ROE',
'320519SRC',
'330821RAM',
'311011YIE',
'440126FSJ',
'340224BQM',
'341001SFS',
'420802CMG',
'420716ISC',
'440703YQC',
'380722FVJ',
'430919UAG',
'320917TPR',
'311031MML',
'390715RAH',
'351112VLD',
'300712MQD',
'340325APL',
'381212AAT',
'300509OPF',
'371008QMR',
'260319FQV',
'431220CMF',
'430321PQL',
'321111SMP',
'310314ACV',
'430710CCR',
'261203MVF',
'420923BMM',
'350809MTR',
'370812OMA',
'340806QCI',
'440915HHA',
'370629RRR',
'420522HHE',
'700610HNA',
'325527CPJ',
'330815MCC',
'380915YZC',
'330104HEM',
'450706FBM',
'495317VVM',
'400722MCD',
'320521VHS',
'411022AOW',
'476029RGG',
'330604CGR',
'450121RGF',
'360228DEJ',
'325807EAM',
'340413GSJ',
'391113ETE',
'430918MHF',
'420613AGA',
'410227CSB',
'420706TCJ',
'390131BZJ',
'300920AVC',
'380302GVE',
'341110GVC',
'320610LPP',
'335819ROR',
'395713STM',
'231223GVA',
'410321VCE',
'400527QMA',
'331201CTL',
'391016ESR',
'431124RLJ',
'431205SGO',
'390708AHA',
'360717MAG',
'321005HMM',
'360123MQC',
'400605FGO',
'381130PLA',
'320721CCJ',
'371221MTD',
'301021GSH',
'400105SSO',
'341225QCV',
'395913SVG',
'330515JJM',
'355825TUS',
'440216TAJ',
'441113CPJ',
'300810CJL',
'450819AMW',
'431228RAD',
'310709DDA',
'371020RPW',
'421208PVJ',
'380808RRF',
'486025LTD',
'260716MGF',
'370612CAJ',
'436112OAJ',
'450308CCZ',
'391118RRE',
'300316SVJ',
'430619YQG',
'281028ALJ',
'430320GNJ',
'285821BMC',
'430603PTR',
'340925DBS',
'420320BCE',
'465913CLA',
'351025RPR',
'360801RDR',
'400123PAR',
'320618BVS',
'410705FME',
'410312QSV',
'430825MHL',
'371019PVJ',
'366204SSM',
'380103RFR',
'370328LAT',
'300526ZEJ',
'371018VBJ',
'321130PLQ',
'390409ZTH',
'430117RPE',
'411225JAT',
'320702VCM',
'280610PSB',
'441125CMJ',
'310513CCJ',
'420421ALL',
'505210MMV',
'331116PSE',
'370412NBA',
'421207DPV',
'290928GGW',
'300808CDP',
'381002CCA',
'420226MFA',
'450801MMO',
'381024BAR',
'310830MPL',
'360521CPG',
'300816MRA',
'411217MCF',
'330916MGR',
'411111MAM',
'410825SGJ',
'370728TMH',
'395531SAM',
'410130GLC',
'370716QCF',
'320201TAR',
'280709RCC',
'475129TRG',
'436113RCE',
'430612MBF',
'350503QMC',
'430306NGJ',
'400512SPD',
'420323ULB',
'450218ACS',
'285618ZCB',
'410531AJJ',
'431001HEM',
'410702CCJ',
'270705SCJ',
'401106RRL',
'420802SCE',
'400808MSC',
'440508ASJ',
'241012TIC',
'440111CLM',
'400909PVA',
'400616DSF',
'280707RCF',
'410903MPA',
'281229CVD',
'430223ENN',
'361125MAE',
'440106CMR',
'391205BAA',
'390626VVC',
'381224CAM',
'370302ORC',
'361212SGB',
'360218FVS',
'440313MML',
'310205JCR',
'411209OAJ',
'361224HCG',
'230623HQS',
'371229LAN',
'390626HED',
'430525HAJ',
'380801FEL',
'441018FMH',
'241012JMN',
'430610CPJ',
'420923AVL',
'290413DBN',
'431002VCA',
'441107MMF',
'341127PMH',
'231019LRC',
'230806RPE',
'270325CMJ',
'320330APW',
'300416OPL',
'440110CGR',
'310527MVH',
'430317MCV',
'440324RIB',
'465806PRM',
'415320SAG',
'301211VJD',
'281230RPS',
'400404VLI',
'441225FCJ',
'330911VQL',
'450811VGT',
'391123MIA',
'420226ECA',
'421114FMD',
'310104ZCR',
'400717APS',
'301012VMR',
'361017TPL',
'400706RJR',
'450122ABP',
'430709FCW',
'300803FBC',
'430920PCE',
'411114VMH',
'291129IED',
'360717GEA',
'340401FMP',
'310516TPG',
'350908ZTM',
'400712BGS',
'400418CNS',
'401107QCS',
'420213TTM',
'431227AHJ',
'415127MHM',
'260309MLJ',
'280603VCM',
'350405VMR',
'430925TEF',
'400621MHL',
'410104PSB',
'435515BPM',
'350328TSG',
'401211CMD',
'350623TCJ',
'440215CCF',
'331125BVF',
'476117MRM',
'341213MCD',
'400910MAA',
'460418GME',
'400902MME',
'320206YMG',
'340222AHR',
'310619PFS',
'330509SYA',
'330730CIR',
'320227ACM',
'391121PGD',
'441127BHF',
'360518TGA',
'400423RCP',
'421224PAD',
'300427SCA',
'361126GCP',
'505110ARA',
'460413BAW',
'220305EMA',
'440320GZJ',
'400204BBJ',
'440915NZM',
'321221LTJ',
'440407QPE',
'431008AVL',
'380917SFF',
'360614RBJ',
'350818GPA',
'305815LDT',
'331119TVF',
'360819RGE',
'341016CCF',
'260929HCC',
'440101RPC',
'311231QCS',
'310122QGL',
'381223PCA',
'430718ICH',
'421220SZS',
'350531MVM',
'350512SLJ',
'281229PVJ',
'331130TPA',
'311010VCL',
'410506LLH',
'350613RTA',
'505508CLA',
'241228TSI',
'420629ARP',
'370724CTR',
'380507QCM',
'330623TTE',
'340508GCM',
'320606MTJ',
'400522VMP',
'340306QGC',
'450512CMP',
'251127EJL',
'441012MQF',
'425407MML',
'420716SBS',
'441225LCL',
'290814CTE',
'340711SPM',
'431221PHD',
'331115PFE',
'401128CQY',
'441022PGH',
'380616DDC',
'330713LAA',
'450628RHP',
'401005HPS',
'445202CDC',
'250519AAJ',
'410212QMP',
'390207ECW',
'440801RZR',
'210511SIM',
'440802ELJ',
'410708CLR',
'291207SRG',
'330115TAD',
'516201JZM',
'231216CCV',
'460107CMD',
'411223AQV',
'461001SCT',
'470207QUA',
'375202AVC',
'321225MVW',
'310109MFJ',
'261012BCW',
'281014MHM',
'370117CCA',
'380901MTE',
'300729LCC',
'331229QMI',
'496229BAC',
'320508GMM',
'421030TMC',
'300531ACH',
'230421DHP',
'380822FTH',
'370524ZQG',
'330709QML',
'300101TAL',
'330806AYS',
'340405BHI',
'240930BUC',
'341010SOA',
'411218MMV',
'440407VEF',
'340919MCL',
'430814TAA',
'320226QRV',
'330207MAP',
'470331MCI',
'431129RTA',
'310315APR',
'401231MSE',
'460318QCA',
'390905RLL',
'280501ALG',
'421117SRV',
'430601GRS',
'441108LSM',
'290324TZW',
'430422CQJ',
'420611SAG',
'306107PMF',
'350116BPH',
'470107BCE',
'430221SCA',
'390109ZGW',
'420411NAD',
'290117ACS',
'430512BLG',
'280419QBV',
'221106ZMS',
'360307GSJ',
'380423FVJ',
'430628VSN',
'430417YCJ',
'340118MCJ',
'380421RMH',
'411003RPL',
'311116MBL',
'340309AVV',
'381011CQI',
'420522CMC',
'290301VCE',
'301024ACR',
'390124MMF',
'496118FCT',
'360530CCJ',
'380128MHM',
'320106QCD',
'475929COL',
'301208QLM',
'460806FVJ',
'391002TCH',
'470331GAB',
'380920MRR',
'430604EBM',
'360620LAA',
'421023PVG',
'365326CVA',
'430815RRR',
'440330OJR',
'410611RVJ',
'351020FRJ',
'300719VLJ',
'571125QJN',
'581018PQR',
'421229LFT',
'440924TSC',
'250710KCL',
'291110MMA',
'330415MVG',
'180613GHC',
'300724CMF',
'420325VFH',
'370614BVJ',
'390331MCB',
'251224EAJ',
'400914CMR',
'321230CGG',
'370915BDF',
'350105CMM',
'440111GTL',
'350209VGM',
'420110LCE',
'320615QVM',
'281026GCG',
'350509MCG',
'530509CYG',
'320407LTG',
'501101ISO',
'570808GPW',
'280115MMJ',
'350128GGE',
'570428MMD',
'500927GRC',
'220908LBJ',
'471120AQF',
'461224EGD',
'200717VFM',
'331218VAJ',
'570916MQC',
'201106NFP',
'330807VVA',
'360421AQM',
'360628CVL',
'431107ABB',
'401127MVR',
'270503OGP',
'400912GRE',
'320103HAO',
'510819HYL',
'380209TMP',
'440611CMB',
'580422PVJ',
'400706CRL',
'170824ARJ',
'310110LLG',
'310720PPA',
'380216PBL',
'170905MVR',
'420120TMF',
'330624RGM',
'361223MQN',
'430925LPF',
'440404PVV',
'370612HNJ',
'430105TTG',
'430624RSJ',
'320521BMG',
'420921CAM',
'451222MMO',
'300203MDJ',
'260104CAJ',
'330205CAF',
'391103MCM',
'400914MCP',
'365623LAW',
'341021TAC',
'251004TAD',
'420526ARF',
'420408ABM',
'431026HTP',
'350210MSP',
'360628CCP',
'380909VOS',
'360812BRW',
'420710EER',
'320204RRA',
'410818MQC',
'380226AAF',
'280227MCL',
'560405MAV',
'351124LFT',
'310909DTP',
'430817MCJ',
'371028BEJ',
'450508HNR',
'320226CMM',
'310830GOM',
'320929SVA',
'355401SGE',
'361024ACE',
'370613VSL',
'310120CMP',
'280611GCJ',
'320504FRF',
'070505CME',
'281204IHG',
'350303FGC',
'270712MMO',
'400619LAD',
'440102RGH',
'430815MCS',
'431119SBE',
'430211ESF',
'440825LOJ',
'410812CSH',
'290808FRE',
'360830TEJ',
'410816CCJ',
'375511FGA',
'320731CLS',
'380514DMB',
'295226BAE',
'321029ATE',
'410601DTR',
'445301SAC',
'351104ANC',
'401101MCC',
'360312ATF',
'430221MGL',
'340805BSE',
'380210AAE',
'400706OUZ',
'330203MCN',
'291120HCR',
'540123MRH',
'631113CQJ',
'180201CTI',
'191101MRL',
'560405CCJ',
'280707RMV',
'280113MCG',
'210702AUJ',
'400810RSJ',
'310812QCJ',
'271215MCM',
'350520DSC',
'160217CLA',
'170222CTC',
'360518OQA',
'250725ACD',
'401029CCA',
'320626BQR',
'400310TPG',
'350306UAV',
'300403CLM',
'475821RVM',
'450228HCJ',
'390609CAF',
'410620FGJ',
'391225AMI',
'430315LRR',
'430326CRM',
'380311FMM',
'320726JSR',
'190727PFI',
'270803TCL',
'520724CQF',
'230627PPL',
'281223CGT',
'560706AAM',
'391203MAM',
'290313OLO',
'490513SFJ',
'330804MAW',
'111206VCA',
'286229LMA',
'130429OVJ',
'240116VMP',
'330407PTD',
'350729TSP',
'401110YCJ',
'410109AJL',
'300329ZPP',
'320103VVE',
'151024CLR',
'410812CGE',
'370402CAS',
'431225DBE',
'505108TMF',
'320830CQR',
'421230GQS',
'400329SVS',
'361020APJ',
'450123AMC',
'310629RHP',
'440106CCP',
'436115MRR',
'390605FGC',
'345209MAC',
'460915CCF',
'355222GAB',
'201004AFF',
'301004VPF',
'331103GCT',
'221106LTL',
'480408GAJ',
'290215SFF',
'250602PNA',
'340326SCR',
'591007QIG',
'181226PME',
'660202HFA',
'320817BFJ',
'340220MCR',
'200620PRL',
'460530CCF',
'400430OQA',
'450714CRC',
'350224GZH',
'370314EDA',
'420215AQF',
'321224LVG',
'340503AAJ',
'370615PCR',
'386213MDD',
'390611TPB',
'410505SEJ',
'400625ICG',
'450310AAA',
'280714ODA',
'300827CCJ',
'310201QAC',
'450821CQM',
'441205SCJ',
'390816ZCB',
'446119ACN',
'351104CAJ',
'430418AMG',
'331008CCC',
'360620SAA',
'420119MEM',
'430122CCF',
'370914EMG',
'340818MPF',
'441105MCZ',
'351214CST',
'311123LVP',
'350406ANL',
'361210QCN',
'381008SLJ',
'421014PPL',
'460501RCG',
'350731SCJ',
'320219VPR',
'450220TSS',
'450107HCL',
'430306CHV',
'380823HSJ',
'245724ORC',
'420716RGJ',
'450305MSA',
'360329TOT',
'440601CMA',
'431231AZH',
'420114CCH',
'440703HHE',
'440302FSR',
'440831PYR',
'190319CAS',
'360604RIR',
'330824PCJ',
'371208UFA',
'270812FBM',
'370606TAJ',
'270731PGI',
'430310CAW',
'330503AMJ',
'301215CAH',
'331229RMT',
'421223VAE',
'280229AML',
'400403VSC',
'400801MSM',
'430428CQE',
'381009QCC',
'405122CPV',
'430914QAC',
'300625MPP',
'441224HCM',
'410830QQP',
'400323CCR',
'410401VFH',
'360302MCF',
'305628MMI',
'411029HLA',
'391204SVH',
'420601TMF',
'360515JCR',
'430203BSE',
'371031MAC',
'460129RMV',
'460808SPA',
'380312TAG',
'420317RTA',
'300203MPF',
'330408RAL',
'350109SCD',
'410205PMJ',
'370804AMF',
'220619CMM',
'261002GAA',
'391127VIR',
'421202PLA',
'300829PQA',
'310415HCD',
'450521PPV',
'465906SAN',
'370624CQJ',
'495923SBR',
'290208PMJ',
'180310TCE',
'325813CMM',
'430306RMV',
'410812FSA',
'290216OOJ',
'430204QPG',
'281121VAR',
'461202MCF',
'440117GMA',
'330912MMB',
'330314PPJ',
'441204ADP',
'360825TTJ',
'360426MPP',
'380408CCJ',
'390828BCF',
'350317CPP',
'475710ELA',
'430321PBV',
'455118VVM',
'380615MTE',
'380806VIS',
'410122BVO',
'391129TLD',
'271003SVO',
'301230TRA',
'350720SCJ',
'370218MMM',
'410403LBG',
'410722NPR',
'380213MPJ',
'340322TMS',
'341217CTS',
'260611FGB',
'271101VVR',
'410806LCJ',
'460517ZPP',
'330517JAA',
'400612RJJ',
'510602LQG',
'280728CLV',
'351030RCZ',
'310909MSS',
'441216CMA',
'340514FTP',
'340415MGM',
'420823CPJ',
'286111CGM',
'441013MQE',
'340725LQS',
'380802CLW',
'360503CMH',
'360112MCP',
'280817CSL',
'411112OYR',
'320905FTL',
'360715GSH',
'450117CLE',
'385213CCM',
'311109PJA',
'430422TCE',
'390619PLJ',
'505516CTI',
'410130MMJ',
'310513HAN',
'361008AGJ',
'430325CRE',
'430929LAJ',
'451228AMJ',
'300619MAJ',
'310924TAL',
'411210LPA',
'290521ATC',
'391001LYR',
'420603PQI',
'270127ODR',
'260729RFA',
'250125PFL',
'640806MAR',
'465423MMM',
'331219CZJ',
'310405RQM',
'390210GCD',
'341201FGF',
'410421FCA',
'270901VYG',
'320607AAM',
'400728AVJ',
'330125BRS',
'340731QAI',
'351125VGP',
'460226QAN',
'440820MCL',
'361025QFS',
'280121PPF',
'460728BAC',
'445116VCO',
'370615CSV',
'310904SAM',
'410206SBA',
'310104RCA',
'330822CVL',
'261124MBC',
'590802AQA',
'360106PCE',
'210722ALL',
'340316LAB',
'320520ULE',
'460815SAJ',
'230212MRH',
'321003MRD',
'430504COW',
'380522ZAV',
'350401ROH',
'381217MHV',
'340320CMB',
'360905LVV',
'280905AOJ',
'471014SCF',
'290612MBJ',
'321205PMD',
'371008SMA',
'230107SDJ',
'160330EMA',
'621106FRL',
'391208MMR',
'340311DTJ',
'360825CSL',
'440320CAJ',
'311104MCC',
'310713CZB',
'380417HCT',
'390124TVC',
'401216ZPA',
'430909AQJ',
'450311RLV',
'521222HCD',
'271217ABC',
'310418QLA',
'350429RHP',
'370101MAP',
'421201PFC',
'361212GMJ',
'330503SBH',
'331026NMM',
'280930SBR',
'271120BRR',
'511120VAB',
'330127LAD',
'360623AAZ',
'180716PVM',
'290823JME',
'270914FVJ',
'421005AQP',
'300501ORM',
'420824SPB',
'660205VMF',
'520101RCC',
'290504FRS',
'301207CCN',
'621025CMR',
'460914PRE',
'170924AGE',
'680122LHA',
'310724QBP',
'310912OFO',
'250114CMC',
'531015PPJ',
'420904RQH',
'320904EHM',
'491114AMS',
'280509ETJ',
'500529FMM',
'310928BAL',
'401007CQF',
'410705CTR',
'151015RAR',
'315608CCM',
'510421QCP',
'390408MSM',
'290506CGJ',
'320326ATB',
'221031MIP',
'291015MTA',
'660720MAE',
'410107VRR',
'261109MEJ',
'260515GJI',
'440520MMF',
'411201ISF',
'301115OLA',
'401115LAE',
'340206MAR',
'350705ARD',
'300504QAS',
'410114FYE',
'200528MVC',
'390515ASJ',
'430414LQR',
'390704CQA',
'380621BGL',
'321129TMA',
'270829CGS',
'361128RRJ',
'501101NQZ',
'390819CTF',
'370714LGP',
'440812BQL',
'381107STG',
'420703MGJ',
'590502MAG',
'311204MTN',
'490705MEM',
'550321VMJ',
'190906SRG',
'441017FLO',
'380904MCM',
'440728GMC',
'400729QRF',
'450703RVO',
'455902SQE',
'431211EAD',
'210515GQJ',
'460224RFA',
'331023GOP',
'380420SMB',
'391130VCA',
'426209UCB',
'520812LAE',
'390701PDF',
'340203YSC',
'360228AMJ',
'420928CLC',
'351201MVN',
'460107MAF',
'400112MAB',
'430612VEP',
'580118CCA',
'410124RZF',
'330807FPA',
'390101SES',
'321012ECJ',
'290919TAE',
'360201AAI',
'240716SAJ',
'320907BOE',
'290820MFJ',
'440515RVE',
'360228ZCJ',
'340305LCE',
'410716AQC',
'550302FPJ',
'330629VRC',
'410722GAM',
'321225ACM',
'401004MGF',
'321213QEH',
'311211FPJ',
'470324CVE',
'280125MRC',
'470520YSJ',
'170206ZDG',
'521223VLO',
'301202PCG',
'120901LSN',
'421216VAA',
'310118PPA',
'621226PPE',
'350720QMR',
'320119VIJ',
'410125LCF',
'430723DBP',
'300814VTA',
'441109CRT',
'390807AAC',
'380501MMF',
'430304CLE',
'360521AAE',
'320417VAT',
'390610JAN',
'430720LOG',
'360628CAV',
'321130FQP',
'371124AHC',
'370127FMJ',
'370905APR',
'355406BOH',
'320111GSA',
'300803AOE',
'410113PPG',
'300822LPF',
'491201TME',
'430804QQA',
'430217MCF',
'370223GCD',
'400607ZMR',
'301128TQL',
'490709SOE',
'580421CCM',
'300413FCJ',
'370203QLP',
'475329SVA',
'401014NGF',
'250511VRA',
'420117BVA',
'380717CQA',
'435617RBM',
'451028TMC',
'370505SZA',
'431112QLV',
'445702SZE',
'320120CQV',
'300820FMR',
'300725CBJ',
'450927GMG',
'495325ACM',
'430309RAF',
'500216QGJ',
'450907MCH',
'280606TPB',
'380621LFL',
'300203ZVA',
'270131PVN',
'430110CCF',
'420118CYV',
'390622CQL',
'211017PCJ',
'250203CSJ',
'421022FNC',
'320523IMH',
'341011PAE',
'430719CAL',
'210425VVH',
'411208EMM',
'330124CAA',
'311108CGW',
'180918GGA',
'181208YOC',
'320716LUM',
'350220RFM',
'430702MNE',
'390907HZA',
'320830PGL',
'370120HCP',
'571118PQS',
'390624AFJ',
'390108OLI',
'400629BFE',
'401127RPF',
'455214VML',
'410106CMR',
'390129CQF',
'330924QFG',
'330702RQS',
'445319MCN',
'280703GSE',
'450224MAL',
'370211ROM',
'240323TCV',
'301223PMJ',
'386227VCE',
'340711UQR',
'420520AJB',
'341224VCA',
'430730RNA',
'420323LSR',
'410424TCA',
'261007PCM',
'380820BBB',
'310208LSJ',
'270325ZBC',
'380418CME',
'361212RUT',
'400624RCJ',
'350501FAJ',
'440307MGT',
'460309RGR',
'420816LCR',
'381217GSO',
'430319VSG',
'250211FRY',
'331013AUE',
'350725VCM',
'420707LNL',
'460424HER',
'380415MHM',
'450906AAE',
'330104CAG',
'381221CMA',
'430311PMD',
'360223VOD',
'341110TVM',
'420915PLP',
'310815PYA',
'410816CMJ',
'400602ARR',
'350921MCM',
'270808VEE',
'460129MRI',
'341021CUJ',
'401227BVJ',
'310228CHR',
'440205GRF',
'371016CCG',
'391027FAF',
'261110ACR',
'260920CFJ',
'470312LLB',
'390925ZCD',
'381002BZA',
'390913MAF',
'435310MVN',
'380826AAJ',
'311229HYT',
'400212CLJ',
'460204VCB',
'391225RAW',
'391208AQH',
'340909ACG',
'290924BMA',
'405711ECM',
'420122CMF',
'431028TRA',
'400830CGM',
'320120PFJ',
'310222ACM',
'520412QMJ',
'540716CAV',
'411130VQT',
'290929TCC',
'420902CBM',
'421018VSJ',
'320502CFI',
'435812MAC',
'400814VAR',
'400204CTA',
'340405LSV',
'450510SLP',
'400924KAE',
'260917ACV',
'400105MHE',
'430118VVW',
'440813SMJ',
'420502JMJ',
'330829TGH',
'440127MBL',
'290105CSV',
'371115CAN',
'410602SPC',
'310703RAM',
'420422EGL',
'400730SRA',
'430224CAL',
'440303HCJ',
'280423SMG',
'320620HAC',
'311023MNP',
'420908AMM',
'390308UUJ',
'380918AOC',
'390724VSF',
'380731MCS',
'300919SSC',
'320606RFM',
'350728FVV',
'291030ACA',
'410924AAJ',
'311225AMA',
'290807YFF',
'380113RRR',
'430601PGR',
'431006ASJ',
'491023HCS',
'330201AAI',
'401016HFJ',
'400105ESW',
'595423TCL',
'461218RTR',
'441126RMC',
'301226CFE',
'371012PAL',
'440913LMF',
'380111MCD',
'401130CQM',
'380611CAA',
'390424CCM',
'350701AYB',
'370307TCJ',
'340319MTJ',
'390120TLF',
'331130RVA',
'320512IGE',
'240930PRR',
'391216BAZ',
'300826CAA',
'455808GGA',
'440428FAM',
'400210CCS',
'430703MMR',
'400220ELJ',
'470320ACJ',
'430525TQU',
'300506TMG',
'250723PPB',
'420927MMC',
'350208ARJ',
'451125GTE',
'421205LAJ',
'460610OMT',
'430305BYJ',
'371114AYS',
'570920AHE',
'391231CMT',
'340813MTA',
'421116MUE',
'290812AZS',
'230825PML',
'250914GFA',
'380725COC',
'340221DFF',
'240930AAG',
'611210CMH',
'241204NOM',
'410305AAA',
'250306AGV',
'250125MFL',
'420701VBM',
'441222SFF',
'640129MCF',
'611022FND',
'541211QSD',
'260724DSJ',
'240521SLL',
'381226TAE',
'431024LOL',
'440426MMR',
'410304BFC',
'370629HSP',
'435322MMN',
'240120LES',
'330220PHA',
'430515MOI',
'245801RCD',
'420531CBJ',
'350608ACS',
'461009QLA',
'336206MPE',
'350905CCA',
'361226TIE',
'300131HLV',
'410624CQM',
'430114PGJ',
'400901AAN',
'320825CML',
'440817MYJ',
'290412NHV',
'340317GGR',
'431018PPR',
'406029RGC',
'400911QQP',
'466202RGR',
'301104AJV',
'495801VBS',
'370929MRM',
'430901QYC',
'381101TES',
'441222LYD',
'330109CMJ',
'411203MMH',
'380829LQJ',
'430331DOF',
'440821FAA',
'650905QAG',
'360925KSP',
'290611AVW',
'400103TTM',
'300324MQV',
'440326COL',
'440626AVJ',
'330730MCG',
'440125MCE',
'331023CQP',
'330807DMA',
'430121VRE',
'311121RMF',
'350520QVP',
'430630CCI',
'440509CZG',
'300311LTP',
'410716PMS',
'330610PCZ',
'445413AZM',
'370629PMP',
'320823BCL',
'401007CAM',
'450825RCL',
'300905BCH',
'420626PCV',
'391130RRF',
'460828CLA',
'440809EMR',
'390428LCM',
'431228JQI',
'490711CVP',
'301003AQC',
'290418RCM',
'340723CQJ',
'500506TJD',
'401005TTR',
'280412RPV',
'240809TFP',
'390624VVJ',
'261106SVF',
'341118ZVJ',
'321222GCV',
'530618SVA',
'370129TSG',
'310515ESN',
'330330QBD',
'630216RAS',
'350415GRF',
'290907ATM',
'310725RRC',
'380824THB',
'400726RBJ',
'351015TOL',
'405829HMS',
'331127RTA',
'390723CAC',
'431017CTH',
'360622QMP',
'450525QHJ',
'485324CPB',
'590413TMJ',
'415113TAL',
'391026YQE',
'355814CIB',
'330612TUJ',
'430530PCF',
'240613RRG',
'371207CCA',
'370919GAJ',
'420709CMC',
'455205LAJ',
'381110PLR',
'450120CPM',
'251210SRM',
'505416TVA',
'250710QTS',
'440107PSJ',
'421228MCM',
'450408CCD',
'390912MFL',
'440129CAF',
'331219FBR',
'260614LAB',
'391011GMN',
'280208YCG',
'451230CCS',
'430425MVM',
'361211SHE',
'421110ARA',
'340924MMG',
'430723HEA',
'320422TCJ',
'380428GLT',
'370425HTD',
'400611GAA',
'350717SIJ',
'291227RVD',
'320819VAL',
'360922MVM',
'410527SPC',
'420914GPO',
'430615CCM',
'360901AEF',
'420705EIM',
'411024AMR',
'400609TTJ',
'330110CCV',
'290620LCL',
'310422BCE',
'310618MAU',
'460118PAL',
'330523MPE',
'365622RQM',
'310611HCD',
'310202RMN',
'200825PVL',
'400111MAH',
'440611ARC',
'410126TIP',
'150411FFJ',
'540122ACA',
'471231BAJ',
'240122DBM',
'301006MFV',
'410723AFP',
'361114VBW',
'360108ILD',
'331129MVF',
'320229GMR',
'435328TRJ',
'421219LCN',
'240404MPR',
'380318MCG',
'435317QCL',
'300214FGJ',
'350214ARR',
'330609LPG',
'425531MJM',
'410922LML',
'390813SGH',
'450925QHF',
'440926RGJ',
'420326TPE',
'430928VBM',
'421008LCF',
'325524BRM',
'250923RCH',
'370301SMJ',
'400731BCI',
'330314CYA',
'400916QQT',
'410303RLV',
'411010ARJ',
'371127SSS',
'360808AAE',
'401026RML',
'291029SMM',
'590622GCP',
'420628MRR',
'440509CLW',
'520822CFM',
'140308CBL',
'680616CRA',
'701106PFL',
'450113BQG',
'281004BHF',
'300101TAH',
'540426MMM',
'420716MRR',
'320619AVJ',
'610826FQC',
'431022PRO',
'390504VAM',
'110315ARC',
'341019BVL',
'440512VQA',
'420327AQR',
'341023QTJ',
'431120MSO',
'470627CMP',
'461014LCA',
'380418AAM',
'330714MTV',
'420719CQV',
'390201CVI',
'336116FBE',
'301020LRJ',
'420920GMM',
'371222ASH',
'401103FMC',
'240711SGJ',
'360902TCM',
'431006MAJ',
'380825RVL',
'451101QMB',
'460205CQC',
'251215PMT',
'340410APT',
'340505JCA',
'130312MSF',
'481112QLD',
'190319SSN',
'271120MNA',
'381117ROH',
'300223BTV',
'400113AMS',
'250510LBH',
'330203MNJ',
'381209HGA',
'261021OHA',
'340914MAM',
'270614CJE',
'360607ORH',
'300806CCS',
'400331SRB',
'330629MST',
'550614QTR',
'270719SMR',
'390629TCM',
'410731CBA',
'430306MVF',
'411013DAR',
'380424AAA',
'431006LDM',
'395421MBA',
'371116VFE',
'435121VOE',
'420527VEW',
'410517MQP',
'430609QCP',
'310730MCE',
'370804VSJ',
'281224CSV',
'360825HHA',
'380124LOT',
'440513FJB',
'340311BAR',
'466208BCN',
'310603HPJ',
'240218CLS',
'371120LLF',
'290410PMC',
'340102CCG',
'330504GNG',
'201221MRS',
'170511QHF',
'210806EMA',
'210219CSS',
'610719DAV',
'480214SCZ',
'371213LTC',
'420120VFF',
'300319PTJ',
'370216HRD',
'260909ULD',
'460606MGI',
'391110ACA',
'320306TEV',
'290909QBF',
'325123STN',
'290408CQJ',
'400424LQM',
'351107HGA',
'410323CSJ',
'291223AZV',
'301007QQF',
'361101CGG',
'340519ZTF',
'401106TTL',
'330813ESH',
'360926JRC',
'310529CMM',
'380119AGM',
'430810PBA',
'325711VSA',
'410821CAL',
'421207PVE',
'290423ACJ',
'391223VEC',
'415813CTT',
'390214PME',
'451119PGJ',
'430912PCL',
'350621OMM',
'610118MTJ',
'570110CLG',
'371128MFJ',
'520516CCJ',
'391231VSF',
'420803CME',
'291126CVS',
'320825HBF',
'260618CZA',
'380701FCE',
'321225CMJ',
'331125VMM',
'430214REJ',
'370715LVE',
'500219PSR',
'260920SCA',
'231008SAN',
'180319MPF',
'380130TRJ',
'411030EAJ',
'460911ASJ',
'091031CPQ',
'350624SJP',
'530717ACF',
'320505CGA',
'300608ORG',
'430903PMR',
'300223ACO',
'501229AHF',
'310514MAJ',
'490208QLJ',
'361025AHS',
'420312RNO',
'401008IID',
'361121YCP',
'425802VJN',
'381220SRJ',
'390828CSA',
'400214ASS',
'431121MMM',
'460220SMJ',
'250914OMA',
'360607SVR',
'421217RFA',
'401130SAA',
'351016ZNP',
'420129SDF',
'401116SCE',
'410413TEA',
'420828TSV',
'291224BMZ',
'220902PYN',
'330104MAG'

        ];


echo $this->generateSpusesRegistrationCode();
return;


        return $data;

          $affiliate = Affiliate::find(205);
          $affiliate = \Muserpol\Models\Spouse::
                    select('spouse.id','spouses.birth_date','spouses.last_name','spouses.first_name','spouses.mothers_last_name','affiliates.gender')
                    ->leftJoin('affiliates','spouses.affiliate_id','=','affiliates.id')
          ->find(21);
          $mat = $this->CalcRegistration($affiliate->birth_date,$affiliate->last_name,$affiliate->mothers_last_name,$affiliate->first_name,$affiliate->gender,true);
        // // echo mb_substr($affiliate->last_name, 0, 1);
        // // echo $affiliate->last_name;
        // // $affiliate->registration = $mat.'';
        // // print_r($affiliate->registration);        
         //return $affiliate->registration;
         
         return $mat;
        ini_set('memory_limit', '-1');

        $spouses = Spouse::get();
        foreach($spouses as $spouse){
            $spouse->registration = $this->CalcRegistration($spouse->birth_date,$spouse->last_name,$spouse->mothers_last_name,$spouse->first_name,$spouse->gender);
            echo $spouse->registration;
            $spouse->save();
        }
echo "finihsed";

        return; 

        $affiliates = Affiliate::skip(59000)->take(5000)->orderBy('id','asc')->get();  //generate by quantity
        $affiliates = Affiliate::where('registration',null)->get(); // generate missed registers
        ///return $affiliates->count();
        //return $affiliates;
        //return $affilaites->count();
        
        foreach($affiliates as $affiliate){
            //$mat = $this->CalcRegistration($affiliate->birth_date,$affiliate->last_name,$affiliate->mothers_last_name,$affiliate->first_name,$affiliate->gender);
            $affiliate->registration = $this->CalcRegistration($affiliate->birth_date,$affiliate->last_name,$affiliate->mothers_last_name,$affiliate->first_name,$affiliate->gender);
            
            echo $affiliate->registration;
            $affiliate->save();
        }
        echo "<br>endig";
        return;
        return view('affiliates.index');
    }
    private function generateSpusesRegistrationCode(){
        ini_set('memory_limit', '-1');
        $spouses = \Muserpol\Models\Spouse::
                    select('spouses.id','spouses.birth_date','spouses.last_name','spouses.first_name','spouses.mothers_last_name','affiliates.gender')
                    ->leftJoin('affiliates','spouses.affiliate_id','=','affiliates.id')
            ->get();

            $c = 0;
        foreach($spouses as $spouse){
            $spouse->registration = $this->CalcRegistration($spouse->birth_date,$spouse->last_name,$spouse->mothers_last_name,$spouse->first_name,$spouse->gender,true);
            //echo $spouse->registration;
            $c++;
            $spouse->save();
        }             
        return $c." values generated";
    }

    private function CalcRegistration($nac, $pat, $mat, $nom, $sex,$is_spouse = false)
	{
        
        if($is_spouse){            
            $sex = ($sex == 'M'?"F":"M");            
        }        
		if ($nac) {
			$newnac = explode("-", $nac);
			$nac_day = $newnac[2];
			$nac_month = $newnac[1];
			$nac_year = substr($newnac[0], -2);
			$month_first = substr($nac_month, 0, 1);
			$month_second = substr($nac_month, 1, 1);
			if($pat  <> ''){
				$pat_first = mb_substr($pat, 0, 1);
			}
			else{
				$pat_first = '';
			}
			if($mat <> ''){
				$mat_first = mb_substr($mat, 0, 1);
			}
			else{
				//preguntar
				$mat_first = mb_substr($pat, 1, 1);
			}
			if($nom<> ''){
				$nom_first = mb_substr($nom, 0, 1);
			}
			else{
				$nom_first = '';
			}
			if($sex == "M"){
				return $nac_year . $nac_month . $nac_day . $pat_first . $mat_first . $nom_first;
			}
			elseif ($sex == "F"){                
				if($month_first = 0){
					$month_last = "5" .$month_second;
				}
				elseif ($month_first = 1) {
					$month_last = "6" . $month_second;
				}
				return $nac_year . $month_last . $nac_day . $pat_first . $mat_first . $nom_first;
			}
		}
    }
    
    public function getAllAffiliates(Request $request)
    {
        /*$query = Affiliate::take(100)->get();

        return $datatables->collection($query)
                          // ->addColumn('action', 'eloquent.tables.users-action')
                          ->make(true);*/
        $offset = $request->offset ?? 0;
        $limit = $request->limit ?? 10;
        $sort = $request->sort ?? 'id';
        $order = $request->order ?? 'asc';  
        $last_name = strtoupper($request->last_name) ?? '';
        $first_name = strtoupper($request->first_name) ?? '';
        $second_name = strtoupper($request->second_name) ?? '';
        $mothers_last_name = strtoupper($request->mothers_last_name) ?? '';
        $surname_husband = strtoupper($request->surname_husband) ?? '';
        $identity_card = strtoupper($request->identity_card) ?? '';
        //$total=Affiliate::where('identity_card','LIKE',$identity_card.'%')->where('last_name','LIKE',$last_name.'%')->count();        
        //$total=6669783;
        //$affiliates = Affiliate::skip($offset)->take($limit)->orderBy($sort,$order)->where('last_name','LIKE',$last_name.'%')->get();                

        $total = Affiliate::select('affiliates.id')//,'identity_card','registration','degrees.name as degree','first_name','second_name','last_name','mothers_last_name','civil_status')->
                                ->leftJoin('degrees', 'affiliates.id', '=', 'degrees.id')
                                ->leftJoin('affiliate_states', 'affiliates.affiliate_state_id', '=', 'affiliate_states.id')
                                ->whereRaw("coalesce(affiliates.first_name,'' ) LIKE '$first_name%'")
                                ->whereRaw("coalesce(affiliates.second_name,'' ) LIKE '$second_name%'")
                                ->whereRaw("coalesce(affiliates.last_name,'') LIKE '$last_name%'")
                                ->whereRaw("coalesce(affiliates.mothers_last_name,'') LIKE '$mothers_last_name%'")
                                ->whereRaw("coalesce(affiliates.surname_husband,'') LIKE '$surname_husband%'")
                                ->whereRaw("coalesce(affiliates.identity_card, '') LIKE '$identity_card%'")
                                ->count();

        $affiliates = Affiliate::select(
            'affiliates.id',
            'identity_card',
            'registration',
            'first_name',
            'second_name',
            'surname_husband',
            'last_name',
            'mothers_last_name',
            'degrees.name as degree',
            'civil_status',
            'affiliate_states.name as affiliate_state'
        )
                                ->leftJoin('degrees','affiliates.id','=','degrees.id')
                                ->leftJoin('affiliate_states','affiliates.affiliate_state_id','=','affiliate_states.id')
                                ->skip($offset)
                                ->take($limit)
                                ->orderBy($sort,$order)
                                ->whereRaw("coalesce(affiliates.first_name,'' ) LIKE '$first_name%'")
                                ->whereRaw("coalesce(affiliates.second_name,'' ) LIKE '$second_name%'")
                                ->whereRaw("coalesce(affiliates.last_name,'') LIKE '$last_name%'")
                                ->whereRaw("coalesce(affiliates.mothers_last_name,'') LIKE '$mothers_last_name%'")
                                ->whereRaw("coalesce(affiliates.surname_husband,'') LIKE '$surname_husband%'")
                                ->whereRaw("coalesce(affiliates.identity_card, '') LIKE '$identity_card%'")
                                ->get();
        return response()->json(['affiliates' => $affiliates->toArray(),'total'=>$total]);
    }

    /** 
     * Show the form for creating a new resource.
     *
     * @return \Illuminate\Http\Response
     */
    public function create()
    {
        //
    }

    /**
     * Store a newly created resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @return \Illuminate\Http\Response
     */
    public function store(Request $request)
    {        
        //
    }

    /**
     * Display the specified resource.
     *
     * @param  \Muserpol\Affiliate  $affiliate
     * @return \Illuminate\Http\Response
     */
    public function show(Affiliate $affiliate)
    {
        $this->authorize('view',$affiliate);
        $cities = City::all()->pluck('first_shortened', 'id');
        $birth_cities = City::all()->pluck('name', 'id');
        $categories = Category::all()->pluck('name', 'id');
        $degrees = Degree::all()->pluck('name', 'id');
        $pension_entities = PensionEntity::all()->pluck('name', 'id');
        $affiliate_states = AffiliateState::all()->pluck('name', 'id');
        $affiliate_records = AffiliateRecord::where('affiliate_id', $affiliate->id)
        ->orderBy('id','desc')
        ->get();
        // $quota_mortuaries = QuotaAidMortuary::where('affiliate_id', $affiliate->id)->get();
        /*$records_message=[];
        foreach($affiliate_records as $key=>$affiliate_record){
            $records_message[$key]=substr($affiliate_record->message,0,-20);
        }*/
        //return $records_message;
        $quota_mortuaries = [];
        $cuota = null;
        $auxilio = null;
            foreach($quota_mortuaries as $quota_mortuary){
                if($quota_mortuary->procedure_modality->procedure_type->module_id == 4){
                   $cuota = $quota_mortuary;
                }
                if($quota_mortuary->procedure_modality->procedure_type->module_id == 5){
                      $auxilio = $quota_mortuary;
                    }
            }
        
        $retirement_fund = RetirementFund::where('affiliate_id', $affiliate->id)->first();
        $nextcode = RetirementFund::where('affiliate_id', $affiliate->id)->where('code','LIKE','%A')->first();
        if(isset($nextcode))
            $nextcode = $nextcode->code;
        else 
            $nextcode = "";        
        $active_ret_fun = RetirementFund::where('affiliate_id',$affiliate->id)->where('code','NOT LIKE','%A')->first();
        $affiliate->load([
            'city_identity_card:id,first_shortened',
            'city_birth:id,name',
            'affiliate_state',
            'pension_entity',
            'category',
            'degree',
        ]);
        $data = array(
            'retirement_fund'=>$retirement_fund,
            'affiliate'=>$affiliate,
            'cities'=>$cities,
            'birth_cities'=>$birth_cities,
            'categories'=>$categories,
            'degrees'=>$degrees,
            'pension_entities' =>$pension_entities,
            'affiliate_states'=>$affiliate_states, 
            'cuota'=>$cuota,
            'auxilio'=>$auxilio,
            'affiliate_records'=>$affiliate_records,
            'nextcode'  =>  $nextcode,
            'has_ret_fun'   =>  isset($active_ret_fun->id)?true:false,
            //'records_message'=>$records_message
        );
        return view('affiliates.show')->with($data);
        //return view('affiliates.show',compact('affiliate','affiliate_states', 'cities', 'categories', 'degrees','degrees_all', 'pension_entities','retirement_fund'));
        
    }

    /**
     * Show the form for editing the specified resource.
     *
     * @param  \Muserpol\Affiliate  $affiliate
     * @return \Illuminate\Http\Response
     */
    public function edit(Affiliate $affiliate)
    {
        //
    }

    /**
     * Update the specified resource in storage.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Muserpol\Affiliate  $affiliate
     * @return \Illuminate\Http\Response
     */
    public function update(Request $request, Affiliate $affiliate)
    { 
        $affiliate = Affiliate::where('id','=', $affiliate->id)->first();

        $this->authorize('update', $affiliate);

        $affiliate->identity_card = $request->identity_card;
        $affiliate->first_name = $request->first_name;
        $affiliate->second_name = $request->second_name;
        $affiliate->last_name = $request->last_name;
        $affiliate->mothers_last_name = $request->mothers_last_name;
        $affiliate->gender = $request->gender;
        $affiliate->civil_status = $request->civil_status;
        $affiliate->birth_date = $request->birth_date;
        $affiliate->phone_number = $request->phone_number;
        $affiliate->cell_phone_number = $request->cell_phone_number;
        $affiliate->city_birth_id = $request->city_birth_id;
        $affiliate->city_identity_card_id =$request->city_identity_card_id;
        $affiliate->surname_husband = $request->surname_husband;

        $affiliate->save();

        $datos=array('affiliate' => $affiliate ,'city_birth' => $affiliate->city_birth,'city_identity_card' => $affiliate->city_identity_card);
        return $datos;

    }
    public function update_affiliate_police(Request $request, Affiliate $affiliate)
    {
        $affiliate = Affiliate::where('id','=', $affiliate->id)->first();
        $this->authorize('update', $affiliate);
        $affiliate->affiliate_state_id = $request->affiliate_state_id;
        $affiliate->type = $request->type;
        $affiliate->date_entry = $request->date_entry;
        $affiliate->item = $request->item;
        $affiliate->category_id = $request->category_id;
        $affiliate->degree_id = $request->degree_id;
        $affiliate->pension_entity_id = $request->pension_entity_id;
        $affiliate->date_derelict = $request->date_derelict;
        $affiliate->save();
        
        $datos = array('affiliate'=>$affiliate,'state'=>$affiliate->affiliate_state,'category'=>$affiliate->category,'degree'=>$affiliate->degree,'pension_entity'=>$affiliate->pension_entity);
        return $datos;
    }

    /**
     * Remove the specified resource from storage.
     *
     * @param  \Muserpol\Affiliate  $affiliate
     * @return \Illuminate\Http\Response
     */
    public function destroy(Affiliate $affiliate)
    {
        //
        $this->authorize('delete', $affiliate);
    }
}
